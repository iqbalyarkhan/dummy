{"version":3,"sources":["webpack://gatsby-blog-stater-with-typescript/./src/templates/blog-post.tsx","webpack://gatsby-blog-stater-with-typescript/./src/images/arrow.svg"],"names":["data","location","post","markdownRemark","posts","allMarkdownRemark","nodes","category","fields","slug","frontmatter","site","siteMetadata","commentInfo","previous","next","filter","item","title","description","excerpt","className","itemScope","itemType","Link","to","src","alt","itemProp","date","dangerouslySetInnerHTML","__html","html"],"mappings":"oPA+GA,EAzFyB,SAAC,GAAuB,MAArBA,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,SAC1BC,EAAOF,EAAKG,eACZC,EAAQJ,EAAKK,kBAAkBC,MAE7BC,GADE,UAAGP,EAAKG,eAAeK,cAAvB,OAAG,EAA4BC,KACpBT,EAAKG,eAAeO,YAAjCH,UACgBP,EAAKW,KAAKC,aAA1BC,YAEmBb,EAAnBc,SAAmBd,EAATe,KAEGX,EAAMY,QAAO,SAACC,GAAD,OAAUV,IAAaU,EAAKP,YAAYH,YA0B1E,OACE,gBAAC,IAAD,CAAQN,SAAUA,GAChB,gBAAC,IAAD,CAAKiB,MAAOhB,EAAKQ,YAAYQ,MAAOC,YAAajB,EAAKQ,YAAYS,aAAejB,EAAKkB,UACtF,2BAASC,UAAU,YAAYC,WAAS,EAACC,SAAS,6BAChD,8BACE,qBAAGF,UAAU,iBACX,gBAAC,EAAAG,KAAD,CAAMC,GAAE,KAAR,QACA,uBAAKC,IChEjB,qXDgEiCC,IAAI,SACzB,gBAAC,EAAAH,KAAD,CAAMC,GAAE,cAAgBlB,GAAaA,IAEvC,sBAAIqB,SAAS,YAAY1B,EAAKQ,YAAYQ,OAC1C,yBAAIhB,EAAKQ,YAAYmB,OAEvB,2BAASC,wBAAyB,CAAEC,OAAQ7B,EAAK8B,MAAQJ,SAAS,iBAGlE,uBAAKP,UAAU","file":"component---src-templates-blog-post-tsx-2b6412c6749436698d58.js","sourcesContent":["import * as React from 'react';\nimport { Link, graphql } from 'gatsby';\n\nimport Layout from '../components/layout';\nimport arrowIcon from '../images/arrow.svg';\nimport SEO from '../components/Seo';\n// import prevIcon from '../images/post-prev-icon.svg';\n// import nextIcon from '../images/post-next-icon.svg';\nimport '../styles/blog-post.scss';\nimport '../styles/code.scss';\n// import PostFooterCard from '../components/common/PostFooterCard';\n// import Comment from '../components/comment';\n\nexport interface CommentProps {\n  service: 'disqus' | 'utterances';\n  disqusProps: {\n    shortname: string;\n    config: { identifier: string; title: string };\n  };\n  utterancesProps: string;\n}\n\nconst BlogPostTemplate = ({ data, location }) => {\n  const post = data.markdownRemark;\n  const posts = data.allMarkdownRemark.nodes;\n  const slug = data.markdownRemark.fields?.slug;\n  const { category } = data.markdownRemark.frontmatter;\n  const { commentInfo } = data.site.siteMetadata;\n\n  const { previous, next } = data;\n\n  const filteredPost = posts.filter((item) => category === item.frontmatter.category);\n\n  // const commentProps: CommentProps = {\n  //   service: commentInfo.service,\n  //   disqusProps: {\n  //     shortname: commentInfo.disqusId,\n  //     config: { identifier: slug, title: post.frontmatter.title },\n  //   },\n  //   utterancesProps: commentInfo.utterancesId,\n  // };\n\n  // const getThumbnail = (postIndex) => {\n  //   const regex = /<img[^>]+src\\s*=\\s*['\"]([^'\"]+)['\"][^>]*>/g;\n  //   const htmlString = filteredPost.map((htmlCode, htmlIndex) => {\n  //     if (postIndex === htmlIndex) {\n  //       return htmlCode.html;\n  //     }\n  //     return null;\n  //   });\n  //   const image = regex.exec(htmlString);\n  //   if (image && image.length) {\n  //     return `${image[0].split('srcset')[0]}/>`;\n  //   }\n  //   return null;\n  // };\n\n  return (\n    <Layout location={location}>\n      <SEO title={post.frontmatter.title} description={post.frontmatter.description || post.excerpt} />\n      <article className=\"blog-post\" itemScope itemType=\"http://schema.org/Article\">\n        <header>\n          <p className=\"post-category\">\n            <Link to={`/`}>HOME</Link>\n            <img src={arrowIcon} alt=\"HOME\" />\n            <Link to={`/?category=${category}`}>{category}</Link>\n          </p>\n          <h1 itemProp=\"headline\">{post.frontmatter.title}</h1>\n          <p>{post.frontmatter.date}</p>\n        </header>\n        <section dangerouslySetInnerHTML={{ __html: post.html }} itemProp=\"articleBody\" />\n      </article>\n      {\n        <nav className=\"blog-post-nav\">\n          {/* <ul>\n            <li>\n              {previous && (\n                <Link to={previous.fields.slug} rel=\"prev\">\n                  <img src={prevIcon} alt=\"left\" className=\"left\" /> PREV\n                </Link>\n              )}\n            </li>\n            <li>\n              {next && (\n                <Link to={next.fields.slug} rel=\"next\">\n                  RIGHT <img src={nextIcon} alt=\"right\" className=\"right\" />\n                </Link>\n              )}\n            </li>\n          </ul> */}\n          {/* <p className=\"post-category\">\n            <Link to={`/`}>HOME</Link>\n            <img src={arrowIcon} alt=\"HOME\" />\n            <Link to={`/?category=${category}`}>{category}</Link>\n          </p> */}\n          {/* <div className=\"post-card-container\">\n            {filteredPost.map((item, postIndex) => (\n              <PostFooterCard key={item.fields.slug} post={item} thumbnail={getThumbnail(postIndex)} />\n            ))}\n          </div> */}\n        </nav>\n      }\n      {/* <Comment\n        service={commentProps.service}\n        disqusProps={commentProps.disqusProps}\n        utterancesProps={commentProps.utterancesProps}\n      /> */}\n    </Layout>\n  );\n};\n\nexport default BlogPostTemplate;\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug($id: String!, $previousPostId: String, $nextPostId: String) {\n    site {\n      siteMetadata {\n        title\n        commentInfo {\n          service\n          disqusId\n          utterancesId\n        }\n      }\n    }\n    markdownRemark(id: { eq: $id }) {\n      id\n      excerpt(pruneLength: 160)\n      html\n      frontmatter {\n        title\n        date(formatString: \"MMMM DD, YYYY\")\n        description\n        category\n      }\n      fields {\n        slug\n      }\n    }\n    previous: markdownRemark(id: { eq: $previousPostId }) {\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n      }\n    }\n    next: markdownRemark(id: { eq: $nextPostId }) {\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n      }\n    }\n    allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\n      group(field: frontmatter___category) {\n        fieldValue\n      }\n      nodes {\n        excerpt\n        html\n        fields {\n          slug\n        }\n        frontmatter {\n          date(formatString: \"MMMM DD, YYYY\")\n          title\n          description\n          category\n        }\n      }\n    }\n  }\n`;\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNyIgaGVpZ2h0PSIxMyIgdmlld0JveD0iMCAwIDcgMTMiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xLjAwNDI4IDExLjUyMjJMNS4zNDg0IDYuOTEzMzZDNS43MTM1NSA2LjUyNTk2IDUuNzExMTcgNS45MjA0IDUuMzQzIDUuNTM1ODhMMSAxIiBzdHJva2U9IiM1ODU4NTgiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+Cjwvc3ZnPgo=\""],"sourceRoot":""}